
{% extends 'core/base.html' %}
{% load currency_filters %}

{% block title %}Admissions - LUM Data Academy{% endblock %}

{% block content %}
<div class="min-h-screen pt-20">
    <!-- Hero Section -->
    <section class="bg-gradient-to-br from-primary to-primary-dark text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-6">Join Our Community</h1>
            <p class="text-xl text-white/90 max-w-3xl mx-auto mb-8">
                Transform your career with industry-relevant data skills. Applications are open year-round with 4 major intakes annually.
            </p>
            
            <!-- Intake Schedule -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto mb-8">
                <div class="bg-white/10 backdrop-blur rounded-lg p-4">
                    <div class="text-2xl font-bold text-yellow-300">Jan</div>
                    <div class="text-sm text-white/80">Q1 Intake</div>
                </div>
                <div class="bg-white/10 backdrop-blur rounded-lg p-4">
                    <div class="text-2xl font-bold text-yellow-300">Apr</div>
                    <div class="text-sm text-white/80">Q2 Intake</div>
                </div>
                <div class="bg-white/10 backdrop-blur rounded-lg p-4">
                    <div class="text-2xl font-bold text-yellow-300">Jul</div>
                    <div class="text-sm text-white/80">Q3 Intake</div>
                </div>
                <div class="bg-white/10 backdrop-blur rounded-lg p-4">
                    <div class="text-2xl font-bold text-yellow-300">Oct</div>
                    <div class="text-sm text-white/80">Q4 Intake</div>
                </div>
            </div>

            <div class="bg-yellow-500/20 border border-yellow-400/30 rounded-lg p-4 mb-8 max-w-2xl mx-auto">
                <div class="flex items-center justify-center mb-2">
                    <svg class="w-5 h-5 text-yellow-300 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                    </svg>
                    <span class="font-semibold text-yellow-100">Rolling Admissions</span>
                </div>
                <p class="text-yellow-100 text-sm">Apply anytime! While we have 4 major intakes per year, you can enroll in courses at any time that works for you.</p>
            </div>

            <a href="#courses-section" class="bg-yellow-500 hover:bg-yellow-600 text-black px-8 py-4 rounded-full text-lg font-semibold transition-all duration-300 inline-flex items-center">
                üöÄ Explore Courses & Apply
                <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                </svg>
            </a>
        </div>
    </section>

    <!-- Application Process -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Simple Application Process</h2>
                <p class="text-xl text-gray-600">Start your journey in just 3 easy steps</p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <div class="bg-white rounded-2xl shadow-lg p-8 text-center hover:shadow-xl transition-shadow">
                    <div class="bg-primary text-white rounded-full w-16 h-16 flex items-center justify-center font-bold text-2xl mx-auto mb-6">1</div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">Choose Your Course</h3>
                    <p class="text-gray-600 mb-6">Browse our comprehensive course catalog and select the program that aligns with your career goals and current skill level.</p>
                    <div class="flex items-center justify-center text-sm text-primary font-medium">
                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Browse 10+ Programs
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-8 text-center hover:shadow-xl transition-shadow">
                    <div class="bg-secondary text-white rounded-full w-16 h-16 flex items-center justify-center font-bold text-2xl mx-auto mb-6">2</div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">Register & Enroll</h3>
                    <p class="text-gray-600 mb-6">Create your account and complete the enrollment process. Choose from flexible payment options including installment plans.</p>
                    <div class="flex items-center justify-center text-sm text-secondary font-medium">
                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Flexible Payment Plans
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-8 text-center hover:shadow-xl transition-shadow">
                    <div class="bg-green-600 text-white rounded-full w-16 h-16 flex items-center justify-center font-bold text-2xl mx-auto mb-6">3</div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">Start Learning</h3>
                    <p class="text-gray-600 mb-6">Access your course materials immediately after enrollment activation and begin your transformative learning journey.</p>
                    <div class="flex items-center justify-center text-sm text-green-600 font-medium">
                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Immediate Access
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Courses Section -->
    <section id="courses-section" class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Popular Programs</h2>
                <p class="text-xl text-gray-600 mb-8">Choose from our most sought-after courses</p>
                
                <!-- Quick Course Categories -->
                <div class="flex flex-wrap justify-center gap-3 mb-8">
                    <a href="{% url 'courses:courses' %}?category=beginner" 
                       class="bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-200 transition-colors">
                        üå± Beginner Friendly
                    </a>
                    <a href="{% url 'courses:courses' %}?category=intermediate" 
                       class="bg-purple-100 text-purple-800 px-4 py-2 rounded-full text-sm font-medium hover:bg-purple-200 transition-colors">
                        üìà Career Growth
                    </a>
                    <a href="{% url 'courses:courses' %}?category=advanced" 
                       class="bg-red-100 text-red-800 px-4 py-2 rounded-full text-sm font-medium hover:bg-red-200 transition-colors">
                        üöÄ Advanced Skills
                    </a>
                    <a href="{% url 'courses:courses' %}?category=masterclass" 
                       class="bg-yellow-100 text-yellow-800 px-4 py-2 rounded-full text-sm font-medium hover:bg-yellow-200 transition-colors">
                        ‚≠ê Masterclasses
                    </a>
                </div>
            </div>

            <!-- Course Grid -->
            {% if featured_courses %}
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                {% for course in featured_courses %}
                <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
                    <!-- Course Image -->
                    <div class="relative h-48 bg-gradient-to-br from-primary to-primary-dark">
                        {% if course.image %}
                        <img src="{{ course.image.url }}" alt="{{ course.title }}" class="w-full h-full object-cover">
                        {% else %}
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="text-center text-white">
                                <svg class="w-12 h-12 mx-auto mb-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <p class="text-sm opacity-80">{{ course.category.display_name }}</p>
                            </div>
                        </div>
                        {% endif %}

                        <!-- Course Badges -->
                        <div class="absolute top-4 left-4">
                            {% if course.is_featured %}
                            <span class="bg-yellow-500 text-black px-2 py-1 rounded-full text-xs font-bold">
                                ‚≠ê Featured
                            </span>
                            {% endif %}
                        </div>

                        <!-- Category -->
                        <div class="absolute top-4 right-4">
                            <span class="bg-white/20 backdrop-blur text-white px-3 py-1 rounded-full text-xs font-medium">
                                {{ course.category.display_name }}
                            </span>
                        </div>
                    </div>

                    <!-- Course Content -->
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-2">{{ course.title }}</h3>
                        <div class="prose prose-sm text-gray-600 mb-4 line-clamp-3">
                            {{ course.overview|safe|truncatewords:15 }}
                        </div>

                        <!-- Course Stats -->
                        <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                            <div class="flex items-center">
                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253z"></path>
                                </svg>
                                {{ course.total_modules }} modules
                            </div>
                            <div class="flex items-center">
                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                {{ course.estimated_hours }}h
                            </div>
                        </div>

                        <!-- Pricing and CTA -->
                        <div class="flex items-center justify-between">
                            <div>
                                {% if course.discount_price %}
                                <div class="flex items-center">
                                    <span class="text-2xl font-bold text-primary">
                                        KShs.{{ course.get_display_price|multiply:150|floatformat:0 }}
                                    </span>
                                    <span class="text-lg text-gray-500 line-through ml-2">
                                        KShs.{{ course.price|multiply:150|floatformat:0 }}
                                    </span>
                                </div>
                                <div class="text-sm text-green-600 font-medium">
                                    Save KShs.{{ course.get_savings|multiply:150|floatformat:0 }}!
                                </div>
                                {% else %}
                                <span class="text-2xl font-bold text-primary">
                                    KShs.{{ course.price|multiply:150|floatformat:0 }}
                                </span>
                                {% endif %}
                            </div>
                            
                            <div class="space-y-2">
                                <a href="{% url 'courses:course_detail' course.slug %}" 
                                   class="block bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg font-medium transition-colors text-center">
                                    View Details
                                </a>
                                {% if user.is_authenticated %}
                                <a href="{% url 'courses:enroll_course' course.slug %}" 
                                   class="block bg-yellow-500 hover:bg-yellow-600 text-black px-4 py-2 rounded-lg font-medium transition-colors text-center">
                                    Enroll Now
                                </a>
                                {% else %}
                                <a href="{% url 'courses:enroll_guest' course.slug %}" 
                                   class="block bg-yellow-500 hover:bg-yellow-600 text-black px-4 py-2 rounded-lg font-medium transition-colors text-center">
                                    Apply Now
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="text-center py-12">
                <p class="text-gray-600 mb-6">No featured courses available at the moment.</p>
                <a href="{% url 'courses:courses' %}" class="bg-primary hover:bg-primary-dark text-white px-6 py-3 rounded-lg font-medium transition-colors">
                    Browse All Courses
                </a>
            </div>
            {% endif %}

            <!-- View All Courses Button -->
            <div class="text-center">
                <a href="{% url 'courses:courses' %}" class="inline-flex items-center bg-secondary hover:bg-secondary/90 text-white px-8 py-4 rounded-full text-lg font-semibold transition-colors">
                    üìö View All Courses
                    <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- Admissions FAQ -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Frequently Asked Questions</h2>
                <p class="text-xl text-gray-600">Everything you need to know about joining LUM Data Academy</p>
            </div>

            <div class="space-y-6">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">When can I apply and start courses?</h3>
                    <p class="text-gray-600">We operate on a rolling admissions basis, meaning you can apply and enroll at any time. While we have 4 major intake periods (January, April, July, and October) with enhanced marketing and support, courses are available year-round to accommodate your schedule.</p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">What are the admission requirements?</h3>
                    <p class="text-gray-600">Most of our courses are designed to be accessible to learners at different levels. Basic computer literacy and enthusiasm to learn are the primary requirements. Specific prerequisites are listed on each course page.</p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Do you offer payment plans?</h3>
                    <p class="text-gray-600">Yes! We offer flexible payment options including full payment discounts, 2-installment plans, and 3-installment plans. We accept M-Pesa, PayPal, and bank transfers to make education accessible to everyone.</p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Will I receive a certificate?</h3>
                    <p class="text-gray-600">Yes, upon successful completion of your course and capstone projects, you'll receive a certificate of completion that you can add to your LinkedIn profile and resume.</p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Do you provide job placement assistance?</h3>
                    <p class="text-gray-600">Absolutely! We offer career support including resume reviews, interview preparation, and connections to our network of hiring partners across Africa and beyond.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="py-16">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Ready to Transform Your Career?</h2>
            <p class="text-xl text-gray-600 mb-8">Join thousands of professionals who have advanced their careers with LUM Data Academy</p>
            
            <div class="grid md:grid-cols-2 gap-6 max-w-2xl mx-auto mb-8">
                <div class="bg-green-50 border border-green-200 rounded-lg p-6 text-center">
                    <div class="text-3xl font-bold text-green-600 mb-2">5,000+</div>
                    <div class="text-sm text-green-700">Students Trained</div>
                </div>
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 text-center">
                    <div class="text-3xl font-bold text-blue-600 mb-2">95%</div>
                    <div class="text-sm text-blue-700">Career Advancement Rate</div>
                </div>
            </div>

            <div class="space-y-4">
                <a href="{% url 'courses:courses' %}" class="inline-block bg-primary hover:bg-primary-dark text-white px-8 py-4 rounded-full text-lg font-semibold transition-colors mr-4">
                    üöÄ Browse Courses & Apply
                </a>
                <a href="{% url 'core:contact' %}" class="inline-block bg-gray-100 hover:bg-gray-200 text-gray-800 px-8 py-4 rounded-full text-lg font-semibold transition-colors">
                    üí¨ Get More Information
                </a>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Smooth scrolling for anchor links
document.addEventListener('DOMContentLoaded', function() {
    const links = document.querySelectorAll('a[href^="#"]');
    
    links.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href').substring(1);
            const targetSection = document.getElementById(targetId);
            
            if (targetSection) {
                targetSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Mobile menu toggle functionality
    const mobileMenuButton = document.querySelector('.mobile-menu-button');
    const mobileMenu = document.querySelector('.mobile-menu');

    if (mobileMenuButton && mobileMenu) {
        function toggleMobileMenu() {
            const isHidden = mobileMenu.classList.contains('hidden');

            if (isHidden) {
                mobileMenu.classList.remove('hidden');
            } else {
                mobileMenu.classList.add('hidden');
            }
        }

        mobileMenuButton.addEventListener('click', toggleMobileMenu);

        // Close menu when clicking on menu items
        document.querySelectorAll('.mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!mobileMenuButton.contains(e.target) && !mobileMenu.contains(e.target)) {
                mobileMenu.classList.add('hidden');
            }
        });
    }
});
</script>
{% endblock %}
